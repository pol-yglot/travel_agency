<!DOCTYPE html>
<html lang="ko">

<!-- 공통 head include -->
<th:block th:replace="fragments/user/head :: head"></th:block>

<!-- 커스텀 css -->
<link rel="stylesheet" href="/css/user/signup.css">

<body>
<!-- 공통 header include -->
<th:block th:replace="~{fragments/user/header :: header}"></th:block>

<!-- 공통 nav include -->
<th:block th:replace="fragments/user/nav :: nav"></th:block>

<main class="signup-form">
    <section class="form-wrapper">
        <h2>개인 회원가입</h2>
        <form id="signup-form" method="post" action="/signup_personal">

            <!-- STEP 인디케이터 -->
            <div class="step-indicator">
                <div class="step active" id="stepDot1"></div>
                <div class="step" id="stepDot2"></div>
            </div>

            <!-- STEP 1 -->
            <section id="step1">
                <h3>기본 정보 입력</h3>

                <p th:if="${errorMessage}" th:text="${errorMessage}" class="error-message"></p>

                <div class="form-group">
                    <label class="form-label" for="name">이름</label>
                    <input type="text" id="name" name="name" class="form-input" placeholder="이름" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="email">이메일</label>
                    <input type="email" id="email" name="email" class="form-input" placeholder="이메일" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="password">비밀번호</label>
                    <input type="password" id="password" name="password" class="form-input" placeholder="비밀번호" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="confirm_password">비밀번호 확인</label>
                    <input type="password" id="confirm_password" name="confirm_password" class="form-input" placeholder="비밀번호 확인" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="phone">휴대폰 번호</label>
                    <input type="tel" id="phone" name="phone" class="form-input" placeholder="휴대폰 번호">
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="marketing" name="marketingAgree" value="true" required>
                    <label for="marketing">마케팅 정보 수신 동의</label>
                </div>

                <button type="button" onclick="validateStep1()">다음</button>
            </section>

            <!-- STEP 2 -->
            <section id="step2" style="display: none;">
                <h3>상세 정보 입력</h3>

                <div class="form-group">
                    <label class="form-label" for="birth">생년월일</label>
                    <input type="date" id="birth" name="birthDate" class="form-input" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="passportName">여권 영문 이름</label>
                    <input type="text" id="passportName" name="passportName" class="form-input">
                </div>

                <div class="form-group">
                    <label class="form-label" for="nationality">국적</label>
                    <input type="text" id="nationality" name="nationality" class="form-input">
                </div>

                <!-- 개인 회원가입이므로 기본값 PERSONAL 고정 -->
                <input type="hidden" name="userType" value="PERSONAL">

                <button type="button" class="backBtn" onclick="goToStep1()">이전</button>
                <button type="submit" onclick=" return validateStep2()">가입 완료</button>
            </section>

        </form>
    </section>
</main>

<!-- 공통 footer include -->
<th:block th:replace="fragments/user/footer :: footer"></th:block>

<script src="/js/user/signup.js"></script>
</body>
</html>